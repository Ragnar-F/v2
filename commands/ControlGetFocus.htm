<!DOCTYPE HTML>
<html lang="de">
<head>
<title>ControlGetFocus - Syntax &amp; Verwendung | AutoHotkey v2</title>
<meta name="description" content="Die ControlGetFocus-Funktion ermittelt, welches Steuerelement des Zielfensters den Tastaturfokus hat, falls vorhanden." />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="noindex, nofollow">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/content.js" type="text/javascript"></script>
<script src="../static/ga.js" type="text/javascript"></script>
</head>
<body>

<h1>ControlGetFocus</h1>

<p>Ermittelt, welches Steuerelement des Zielfensters den Tastaturfokus hat, falls vorhanden.</p>

<pre class="Syntax">HWND := <span class="func">ControlGetFocus</span>(<span class="optional">Fenstertitel, Fenstertext, Titelausnahme, Textausnahme</span>)</pre>
<h2>Parameter</h2>
<dl>

  <dt>Fenstertitel</dt>
  <dd>
    <p>Typ: <a href="../Concepts.htm#strings">Zeichenkette</a></p>
    <p>Der Titel oder andere Möglichkeiten zum Identifizieren des Zielfensters. Weitere Informationen finden Sie unter <a href="../misc/WinTitle.htm">Fenstertitel-Parameter</a>.</p>
  </dd>

  <dt>Fenstertext</dt>
  <dd>
    <p>Typ: <a href="../Concepts.htm#strings">Zeichenkette</a></p>
    <p>Eine Zeichenkette, die in einem der Textelemente des Zielfensters enthalten ist (eventuell vorhandene Textelemente können mit dem internen Tool Window Spy aufgedeckt werden). Versteckte Textelemente werden nur erkannt, wenn <a href="DetectHiddenText.htm">DetectHiddenText</a> eingeschaltet ist.</p>
  </dd>

  <dt>Titelausnahme</dt>
  <dd>
    <p>Typ: <a href="../Concepts.htm#strings">Zeichenkette</a></p>
    <p>Alle Fenster, die diesen Wert in ihren Titeln enthalten, werden ignoriert.</p>
  </dd>

  <dt>Textausnahme</dt>
  <dd>
    <p>Typ: <a href="../Concepts.htm#strings">Zeichenkette</a></p>
    <p>Alle Fenster, die diesen Wert in ihren Textelementen enthalten, werden ignoriert.</p>
  </dd>

</dl>

<h2>Rückgabewert</h2>
<p>Typ: <a href="../Concepts.htm#numbers">Integer</a></p>
<p>Diese Funktion gibt den <a href="../misc/WinTitle.htm#ahk_id">Window Handle (HWND)</a> des fokussierten Steuerelements zurück.</p>
<p>Wenn ein Problem auftrat oder wenn keines der Steuerelemente im Zielfenster den Tastaturfokus hat, ist der Rückgabewert eine 0.</p>

<h2>ErrorLevel</h2>
<p><a href="../misc/ErrorLevel.htm">ErrorLevel</a> wird auf 1 gesetzt, wenn der Tastaturfokus nicht ermittelt werden konnte, ansonsten auf 0. Ein ErrorLevel von 1 bedeutet in der Regel, dass das Fenster nicht existiert.</p>

<h2>Bemerkungen</h2>
<p>Das abgerufene Steuerelement ist auch das Steuerelement, das den Tastaturfokus hat; solche Steuerelemente sind die Anlaufstelle für jegliche Tastatureingaben des Benutzers.</p>
<p>Das Fenster muss aktiv sein, um ein fokussiertes Steuerelement (sofern vorhanden) abrufen zu können. Wenn das Zielfenster gefunden wurde, aber keines der darin enthaltenen Steuerelemente den Tastaturfokus hat, wird ErrorLevel und der Rückgabewert auf 0 gesetzt.</p>
<p>Fenstertitel und -texte sind Groß-/Kleinschreibung-sensitiv. Versteckte Fenster werden nur erkannt, wenn <a href="DetectHiddenWindows.htm">DetectHiddenWindows</a> eingeschaltet ist.</p>
<h2>Siehe auch</h2>
<p><a href="ControlFocus.htm">ControlFocus</a>, <a href="Control.htm">Control-Funktionen</a></p>
<h2>Beispiele</h2>
<div class="ex" id="ExBasic">
<p><a href="#ExBasic">#1</a>: Ruft die HWND-Nummer und ClassNN-Bezeichnung des fokussierten Steuerelements im aktiven Fenster ab.</p>
<pre>
FokusHwnd := ControlGetFocus("A")
FokusClassNN := ControlGetClassNN(FokusHwnd)
MsgBox 'Steuerelement mit Fokus = {Hwnd: ' FokusHwnd ', ClassNN: "' FokusClassNN '"}'</pre>
</div>

</body>
</html>
